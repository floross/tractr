# Migration `20200831124426-user-definition`

This migration has been generated by Florian Rossiaud at 8/31/2020, 2:44:26 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE "public"."User" DROP CONSTRAINT "User_pkey",
ADD COLUMN "username" text   NOT NULL ,
ADD COLUMN "password" text   NOT NULL ,
ADD COLUMN "salt" text   NOT NULL ,
ADD COLUMN "phone" text   NOT NULL ,
ADD COLUMN "pictureUrl" text   NOT NULL ,
ADD COLUMN "nationality" text   NOT NULL ,
ADD COLUMN "gender" text   NOT NULL ,
ADD COLUMN "birthdate" timestamp(3)   NOT NULL ,
ALTER COLUMN "id" SET DATA TYPE text ,
ALTER COLUMN "id" DROP DEFAULT,
ALTER COLUMN "id" DROP DEFAULT,
ALTER COLUMN "name" SET NOT NULL,
ADD PRIMARY KEY ("id");
DROP SEQUENCE "User_id_seq"
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200831102757-init..20200831124426-user-definition
--- datamodel.dml
+++ datamodel.dml
@@ -3,12 +3,20 @@
 }
 datasource postgresql {
     provider = "postgresql"
-    url = "***"
+    url = "***"
 }
 model User {
-  id    Int     @default(autoincrement()) @id
-  email String  @unique
-  name  String?
+  id          String  @default(uuid()) @id
+  email       String  @unique
+  username    String
+  password    String
+  salt        String
+  name        String
+  phone       String
+  pictureUrl  String
+  nationality String
+  gender      String
+  birthdate   DateTime
 }
```


